webpackJsonp([2],{135:function(t,e,n){var i,a;n(178),i=n(196);var o=n(215);a=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(a=i=i.default),"function"==typeof a&&(a=a.options),a.render=o.render,a.staticRenderFns=o.staticRenderFns,a._scopeId="data-v-68cb4ca6",t.exports=i},136:function(t,e,n){var i,a;n(173),i=n(197);var o=n(211);a=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(a=i=i.default),"function"==typeof a&&(a=a.options),a.render=o.render,a.staticRenderFns=o.staticRenderFns,a._scopeId="data-v-5983253a",t.exports=i},150:function(t,e,n){e=t.exports=n(3)(),e.push([t.i,"",""])},155:function(t,e,n){e=t.exports=n(3)(),e.push([t.i,".outside-edit .source-btn-group[data-v-68cb4ca6]{height:50px;max-width:80%;overflow:auto}.outside-edit .commit[data-v-68cb4ca6]{width:100px}.outside-edit .footer[data-v-68cb4ca6]{margin-top:20px}",""])},173:function(t,e,n){var i=n(150);"string"==typeof i&&(i=[[t.i,i,""]]);n(4)(i,{});i.locals&&(t.exports=i.locals)},178:function(t,e,n){var i=n(155);"string"==typeof i&&(i=[[t.i,i,""]]);n(4)(i,{});i.locals&&(t.exports=i.locals)},196:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6);e.default={name:"outside-edit",created:function(){},data:function(){return{articles:[],content:"//TODO",rawContent:"",config:{initialFrameWidth:null,initialFrameHeight:320}}},methods:{getInfo:function(){var t=this;t.utils.ajax(t.Config.action.industry.review,{},function(e){t.articles=e.articles.map(function(e,n){return 0==n?(e.active=!0,t.content=e.content):e.active=!1,e})},function(e){t.$message.warning(e.responseMsg)})},changeSource:function(t){var e=this;e.articles=e.articles.map(function(n){return n.id==t.id?(n.active=!0,e.content=n.content):n.active=!1,n})},contentChange:function(t){this.rawContent=t.content},commitEdit:function(){var t=this,e=t.articles.find(function(t){return 1==t.active});e.content=t.rawContent,console.log(e),console.log("content: "+this.content),console.log("rawContent: "+this.rawContent)}},watch:{},computed:n.i(i.b)({Config:function(t){return t.Config}}),components:{}}},197:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6);e.default={name:"outside-list",created:function(){this.getList()},data:function(){return{showAdd:!1,showEdit:!1,timeInterval:"",statusMap:{},pickerOption:{disabledDate:function(t){return t.getTime()>Date.now()}},option:{page:1,pageSize:20,keyword:"",total:0,startTime:"",endTime:""},statusClassMap:{},outsideList:[]}},methods:{search:function(){1==this.option.page?this.getList():this.option.page=1},getList:function(t){var e=this;e.option.page=t||1,console.log(e.option)},editRow:function(t,e){var n=this;n.editOption.index=t,n.editOption.id=e[t].id,n.editOption.name=e[t].name,n.editOption.endTime=e[t].end_time,n.showEdit=!0},freezeRow:function(t,e){var n=this;n.$store.getters.Fetch.ajax(n.Config.action.outside.freeze,{id:e[t].id},function(t){n.search(),n.$message.success("操作成功")},function(t){n.$message.warning(t.responseMsg)})},dateChange:function(){var t=this;t.timeInterval&&t.timeInterval[0]?(t.option.startTime=t.timeInterval[0].format("yyyy-MM-dd"),t.option.endTime=t.timeInterval[1].format("yyyy-MM-dd")):(t.option.startTime="",t.option.endTime=""),t.search()}},watch:{timeInterval:"dateChange"},computed:n.i(i.b)({Config:function(t){return t.Config}}),components:{}}},211:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"outside-list"},[n("el-breadcrumb",{staticClass:"com-title",attrs:{separator:"/"}},[n("el-breadcrumb-item",[t._v("行业热点管理")]),t._v(" "),n("el-breadcrumb-item",[t._v("采集文章列表")])],1),t._v(" "),n("div",{staticClass:"table-body",attrs:{flex:"main:justify cross:center"}},[n("div",[n("el-input",{staticClass:"search-input",attrs:{placeholder:"请输入关键字",icon:"search","on-icon-click":t.search},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.search(e)}},model:{value:t.option.keyword,callback:function(e){t.option.keyword=e},expression:"option.keyword"}}),t._v(" "),n("el-date-picker",{staticClass:"search-input",attrs:{type:"daterange","picker-options":t.pickerOption,placeholder:"查询操作时间"},model:{value:t.timeInterval,callback:function(e){t.timeInterval=e},expression:"timeInterval"}})],1)]),t._v(" "),n("el-table",{staticClass:"my-table",staticStyle:{width:"80%"},attrs:{data:t.outsideList}},[n("el-table-column",{attrs:{prop:"name",label:"文章标题","min-width":"200"},scopedSlots:t._u([["default",function(e){return[n("span",{class:{frozen:"1"==e.row.is_frozen}},[t._v(t._s(e.row.name))])]}]])}),t._v(" "),n("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:t._u([["default",function(e){return[n("span",{class:t.statusClassMap[e.row.status]},[t._v(t._s(t.statusMap[e.row.status]))])]}]])}),t._v(" "),n("el-table-column",{attrs:{prop:"crawl_time",label:"采集时间","min-width":"100"}}),t._v(" "),n("el-table-column",{attrs:{prop:"publish_time",label:"发布时间","min-width":"100"}}),t._v(" "),n("el-table-column",{attrs:{prop:"review_time",label:"审核时间","min-width":"100"}}),t._v(" "),n("el-table-column",{attrs:{prop:"reviewer_name",label:"审核者"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作","min-width":"140"},scopedSlots:t._u([["default",function(e){return[n("el-button",{staticClass:"table-btn",attrs:{type:"info",size:"small"},nativeOn:{click:function(n){n.preventDefault(),t.editRow(e.$index,t.outsideList)}}},[t._v("\n            编辑\n          ")]),t._v(" "),n("el-button",{staticClass:"table-btn",attrs:{type:"info",size:"small"},nativeOn:{click:function(n){n.preventDefault(),t.freezeRow(e.$index,t.outsideList)}}},[t._v("\n            "+t._s("1"==e.row.is_frozen?"解冻":"冻结")+"\n          ")])]}]])})],1),t._v(" "),n("el-pagination",{staticClass:"pagi",attrs:{"current-page":t.option.page,"page-size":t.option.pageSize,layout:"prev, pager, next, jumper, total",total:t.option.total},on:{"current-change":t.getList}})],1)},staticRenderFns:[]}},215:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"outside-edit"},[n("el-breadcrumb",{staticClass:"com-title",attrs:{separator:"/"}},[n("el-breadcrumb-item",[t._v("行业热点管理")]),t._v(" "),n("el-breadcrumb-item",[t._v("采集文章审核")])],1),t._v(" "),n("div",{staticClass:"table-body"},[n("div",{staticClass:"table-body",attrs:{flex:"main:justify cross:center"}},[n("div",{staticClass:"source-btn-group"},t._l(t.articles,function(e){return n("c-button",{staticClass:"table-btn",attrs:{type:e.active?"info":"",clickFunc:[t.changeSource,e]}},[t._v(t._s(e.source))])})),t._v(" "),n("div",{staticClass:"commit"},[n("c-button",{attrs:{type:"info",clickFunc:[t.commit]}},[t._v("完成审核")])],1)]),t._v(" "),n("ueditor",{attrs:{value:t.content,config:t.config},on:{input:t.contentChange,ready:t.getInfo}})],1),t._v(" "),n("div",{staticClass:"footer center"},[n("el-button",{staticClass:"submit",attrs:{type:"info"},on:{click:function(e){t.commitEdit()}}},[t._v("提交修改")])],1)],1)},staticRenderFns:[]}}});